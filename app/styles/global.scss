@use 'variables' as *;
@use 'mixins' as *;
@use 'reset';

// ─── Dark mode (default) ──────────────────────────────────────────────────────
:root {
  --color-bg: #0d1117;
  --color-bg-secondary: #161b22;
  --color-bg-tertiary: #21262d;
  --color-text-primary: #e6edf3;
  --color-text-secondary: #8b949e;
  --color-border: rgba(240, 246, 252, 0.1);
  --color-border-strong: rgba(240, 246, 252, 0.25);
  --color-glass-bg: rgba(13, 17, 23, 0.85);
  // Primary CTA: inverted from page background
  --color-cta-bg: #e6edf3;
  --color-cta-text: #0d1117;
  --color-cta-bg-hover: #c9d1d9;
  // Subtle surface layers (hover states, ghost buttons)
  --color-surface-subtle: rgba(240, 246, 252, 0.07);
  --color-surface-hover: rgba(240, 246, 252, 0.13);
  // Decorative (hero grid, faint orbs)
  --color-grid-line: rgba(255, 255, 255, 0.025);
  --color-glow: rgba(255, 255, 255, 0.04);
  // Selection
  --color-selection: rgba(230, 237, 243, 0.2);
  --font-system: #{$font-system};
}

// ─── Light mode ───────────────────────────────────────────────────────────────
[data-theme='light'] {
  --color-bg: #ffffff;
  --color-bg-secondary: #f6f8fa;
  --color-bg-tertiary: #eaeef2;
  --color-text-primary: #1f2328;
  --color-text-secondary: #656d76;
  --color-border: #d0d7de;
  --color-border-strong: #b1bac4;
  --color-glass-bg: rgba(255, 255, 255, 0.92);
  --color-cta-bg: #1f2328;
  --color-cta-text: #ffffff;
  --color-cta-bg-hover: #3d444d;
  --color-surface-subtle: rgba(31, 35, 40, 0.05);
  --color-surface-hover: rgba(31, 35, 40, 0.1);
  --color-grid-line: rgba(0, 0, 0, 0.04);
  --color-glow: rgba(0, 0, 0, 0.03);
  --color-selection: rgba(31, 35, 40, 0.1);
}

// ─── Base styles ──────────────────────────────────────────────────────────────
html {
  font-family: $font-system;
  background-color: var(--color-bg);
  color: var(--color-text-primary);
  font-size: 16px;
}

body {
  background-color: var(--color-bg);
  color: var(--color-text-primary);
  overflow-x: hidden;
}

::selection {
  background-color: var(--color-selection);
  color: var(--color-text-primary);
}

:focus-visible {
  outline: 2px solid var(--color-text-primary);
  outline-offset: 3px;
}

// ─── Spinner (used by Suspense fallbacks) ─────────────────────────────────────
@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.section-fallback {
  min-height: 50vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.spinner {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-text-secondary);
  animation: spin 0.8s linear infinite;
}

// ─── Layout utility ───────────────────────────────────────────────────────────
.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;

  @include respond-to('md') {
    padding: 0 2rem;
  }

  @include respond-to('lg') {
    padding: 0 3rem;
  }
}

